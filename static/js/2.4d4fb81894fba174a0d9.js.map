{"version":3,"sources":["webpack:///src/pages/Photos.vue","webpack:///./src/pages/Photos.vue?bf97","webpack:///./src/pages/Photos.vue"],"names":["Photos","name","data","loading","finished","loadCount","activelists","lists","id","time","address","title","describe","imgurl","methods","goDetail","this","$router","push","query","handleScroll","window","pageYOffset","document","documentElement","scrollTop","body","getWindowHeight","$refs","photoListBox","offsetHeight","addActiveLists","step","end","length","getInnerWidth","innerWidth","clientWidth","compatMode","clientHeight","preload","setTimeout","Image","src","beforeCreate","mounted","addEventListener","destroyed","removeEventListener","pages_Photos","render","_vm","_h","$createElement","_c","_self","staticClass","_v","ref","_l","item","key","on","click","$event","style","backgroundImage","des","_s","_m","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/2.4d4fb81894fba174a0d9.js","sourcesContent":["<template>\n  <div class=\"all\">\n\n    <div class=\"container\">\n\n      <h2 class=\"web-title align-center\">相册目录</h2>\n      <h3 class=\"web-describe align-center\">摄影发现生活的美好，博客记录美好的回忆</h3>\n\n      <div class=\"clear photoListBox\" ref=\"photoListBox\">\n\n        <div class=\"lists fl\" v-for=\"item in activelists\" :key=\"item.id\" @click=\"goDetail(item.id)\">\n          <div class=\"boxshow\">\n            <div class=\"cover\" :style=\"{backgroundImage: 'url(' + item.imgurl + ')'}\">\n              <div class=\"desc\">\n                <p class=\"title\" v-for=\"des in item.describe\">{{des}}</p>\n              </div>\n            </div>\n            <p class=\"describe wordbreak\">{{item.title}}</p>\n            <p class=\"visittime\"><i class=\"iconfont icon-shijian\"></i><span class=\"time\">{{item.time}}</span></p>\n          </div>\n        </div>\n\n        <div class=\"copyright\">\n          <p>© 2018 | Eliden</p>\n        </div>\n\n      </div>\n\n    </div>\n\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'Index',\n  data () {\n    return {\n      loading: false,\n      finished: false,\n      loadCount: 0,\n      activelists: [],\n      lists: [\n        {\n          id: '201',\n          time: '2018-09-09',\n          address: '广东-深圳',\n          title: '深圳市博物馆',\n          describe: ['深圳文物收藏', '历史研究中心'],\n          imgurl: 'https://s1.ax1x.com/2018/09/21/in2Pi9.jpg'\n        },\n        {\n          id: '200',\n          time: '2018-09-09',\n          address: '广东-深圳',\n          title: '旧火车公园',\n          describe: ['周末一人行', '网红拍照点打卡'],\n          imgurl: 'https://s1.ax1x.com/2018/09/21/ind1Ff.jpg'\n        }\n        // {\n        //   id:'199',\n        //   time: '2018-09-09',\n        //   address: '广东-深圳',\n        //   title: '旧火车公园',\n        //   describe: [\"周末一人行\", \"网红拍照点打卡\"],\n        //   imgurl: 'https://s1.ax1x.com/2018/09/21/ind1Ff.jpg'\n        // },\n        // {\n        //   id:'198',\n        //   time: '2018-09-09',\n        //   address: '广东-深圳',\n        //   title: '旧火车公园',\n        //   describe: [\"周末一人行\", \"网红拍照点打卡\"],\n        //   imgurl: 'https://s1.ax1x.com/2018/09/21/ind1Ff.jpg'\n        // },\n        // {\n        //   id:'197',\n        //   time: '2018-09-09',\n        //   address: '广东-深圳',\n        //   title: '旧火车公园',\n        //   describe: [\"周末一人行\", \"网红拍照点打卡\"],\n        //   imgurl: 'https://s1.ax1x.com/2018/09/21/ind1Ff.jpg'\n        // },\n        // {\n        //   id:'196',\n        //   time: '2018-09-09',\n        //   address: '广东-深圳',\n        //   title: '旧火车公园',\n        //   describe: [\"周末一人行\", \"网红拍照点打卡\"],\n        //   imgurl: 'https://s1.ax1x.com/2018/09/21/ind1Ff.jpg'\n        // },\n        // {\n        //   id:'195',\n        //   time: '2018-09-09',\n        //   address: '广东-深圳',\n        //   title: '旧火车公园',\n        //   describe: [\"周末一人行\", \"网红拍照点打卡\"],\n        //   imgurl: 'https://s1.ax1x.com/2018/09/21/ind1Ff.jpg'\n        // },\n        // {\n        //   id:'195',\n        //   time: '2018-09-09',\n        //   address: '广东-深圳',\n        //   title: '旧火车公园',\n        //   describe: [\"周末一人行\", \"网红拍照点打卡\"],\n        //   imgurl: 'https://s1.ax1x.com/2018/09/21/ind1Ff.jpg'\n        // },\n      ]\n    }\n  },\n  methods: {\n    goDetail (id) {\n      this.$router.push({name: 'photoDetail', query: {id: id}})\n    },\n    handleScroll () {\n      const offset = 50\n      let scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop\n      if (scrollTop + this.getWindowHeight() > this.$refs.photoListBox.offsetHeight - offset) {\n        // 触底加载\n        this.addActiveLists()\n      }\n    },\n    addActiveLists () {\n      let step = 3\n      const end = this.lists.length\n\n      if (this.loadCount + 3 > end) {\n        step = this.lists.length\n      } else {\n        step = this.loadCount + 3\n      }\n\n      while (this.loadCount < step) {\n        this.activelists.push(this.lists[this.loadCount++])\n      }\n    },\n    getInnerWidth () {\n      if (window.innerWidth) { return window.innerWidth } else if ((document.body) && (document.body.clientWidth)) {\n        return document.body.clientWidth\n      }\n    },\n    getWindowHeight () {\n      var windowHeight = 0\n      if (document.compatMode == 'CSS1Compat') {\n        windowHeight = document.documentElement.clientHeight\n      } else {\n        windowHeight = document.body.clientHeight\n      }\n      return windowHeight\n    },\n    preload () {\n      setTimeout(function () {\n        // XHR to request a JS and a CSS\n        // var xhr = new XMLHttpRequest();\n        // xhr.open('GET', 'http://domain.tld/preload.js');\n        // xhr.send('');\n        // xhr = new XMLHttpRequest();\n        // xhr.open('GET', 'http://domain.tld/preload.css');\n        // xhr.send('');\n        // preload image\n        new Image().src = 'https://s1.ax1x.com/2018/09/21/ind1Ff.jpg'\n      }, 1)\n    }\n  },\n  beforeCreate () {\n    this.preload()\n  },\n  mounted () {\n    window.addEventListener('scroll', this.handleScroll)\n    this.handleScroll()\n\n    // 窗口大于980时 加载6个\n    if (this.getInnerWidth() > 980) {\n      this.handleScroll()\n    }\n  },\n  destroyed () {\n    window.removeEventListener('scroll', this.handleScroll)\n  }\n}\n</script>\n\n<style scoped lang=\"stylus\">\n  .all\n    width: 100%\n    height: 100%\n    color: #8f989f;\n    background-color: #F4F7F7\n    font-size: .2rem\n    font-family: \"Roboto Mono\", monospace;\n    font-weight: 400;\n    line-height: 1.8;\n\n  .container\n    height: 100%\n\n  .web-title\n    font-size: .3rem;\n    font-weight: 400;\n    line-height: 1.5;\n    letter-spacing: .12em;\n    color: #000\n    padding-top: .6rem\n\n  .web-describe\n    font-size: .18rem\n    padding: .3rem 1rem 0\n    word-break break-all\n\n  .photoListBox\n    position: relative\n    padding-bottom: 1.2rem\n\n  .lists\n    padding: 0 .15rem\n    width: 33.333%\n    margin-top: .6rem\n\n  .boxshow\n    cursor: pointer;\n    transition all 1s\n    box-shadow: 0px 4px 8px 0px rgba(0, 0, 0, 0.2)\n\n  .cover\n    background-size: cover;\n    background-position: center center;\n    background-repeat: no-repeat;\n    position: relative;\n    color: #8f989f;\n    height: 3rem\n    width: 100%\n\n  .desc\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background: rgba(0, 0, 0, 0.5);\n    opacity: 0;\n    color: #fff;\n    padding-left: .5rem\n    padding-right: .5rem\n    transition all 0.7s\n    .title\n      word-break break-all\n      font-size: .2rem\n      text-align: center\n\n  .lists:hover .desc\n    opacity: 0.8\n\n  .lists:hover .boxshow\n    box-shadow: 0px 10px 18px -4px rgba(0, 0, 0, 0.3);\n\n  .describe\n    width: 100%\n    text-align: center\n    padding: .18rem\n    color: #000;\n    font-weight: 400;\n    font-size: .18rem\n\n  .visittime\n    border-top: 1px solid rgba(0, 0, 0, 0.05);\n    padding: .14rem\n    font-size: .16rem\n    text-align: center\n    margin: 0 .2rem\n    .time\n      margin-left: .1rem\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/Photos.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"all\"},[_c('div',{staticClass:\"container\"},[_c('h2',{staticClass:\"web-title align-center\"},[_vm._v(\"相册目录\")]),_vm._v(\" \"),_c('h3',{staticClass:\"web-describe align-center\"},[_vm._v(\"摄影发现生活的美好，博客记录美好的回忆\")]),_vm._v(\" \"),_c('div',{ref:\"photoListBox\",staticClass:\"clear photoListBox\"},[_vm._l((_vm.activelists),function(item){return _c('div',{key:item.id,staticClass:\"lists fl\",on:{\"click\":function($event){_vm.goDetail(item.id)}}},[_c('div',{staticClass:\"boxshow\"},[_c('div',{staticClass:\"cover\",style:({backgroundImage: 'url(' + item.imgurl + ')'})},[_c('div',{staticClass:\"desc\"},_vm._l((item.describe),function(des){return _c('p',{staticClass:\"title\"},[_vm._v(_vm._s(des))])}))]),_vm._v(\" \"),_c('p',{staticClass:\"describe wordbreak\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('p',{staticClass:\"visittime\"},[_c('i',{staticClass:\"iconfont icon-shijian\"}),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(item.time))])])])])}),_vm._v(\" \"),_vm._m(0)],2)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"copyright\"},[_c('p',[_vm._v(\"© 2018 | Eliden\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-35d72e60\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Photos.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-35d72e60\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Photos.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Photos.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Photos.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-35d72e60\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Photos.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-35d72e60\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Photos.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}